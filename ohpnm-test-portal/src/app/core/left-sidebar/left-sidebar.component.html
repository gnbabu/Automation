<nav class="sidebar d-flex flex-column flex-shrink-0 position-relative">
  <button class="toggle-btn" type="button" (click)="toggle.emit()">
    <i class="fas fa-chevron-left"></i>
  </button>

  <div class="p-4 text-center">
    <!-- Project Logo -->
    <h4 class="logo-text fw-bold mb-3">Automation</h4>

    <!-- User Profile -->
    <div class="d-flex flex-column align-items-center hide-on-collapse">
      <div class="profile-img-wrapper mb-2">
        <img
          [src]="getProfilePhotoUrl()"
          alt="User"
          class="rounded-circle profile-img"
          width="90"
          height="90"
        />
      </div>
      <span class="profile-name fw-semibold hide-on-collapse fs-5">
        {{ user?.firstName }} {{ user?.lastName }}
      </span>
    </div>
  </div>

  <div class="nav flex-column">
    <a
      [routerLink]="['/dashboard']"
      routerLinkActive="active"
      [routerLinkActiveOptions]="{ exact: true }"
      class="sidebar-link text-decoration-none p-3"
    >
      <i class="fas fa-home me-3"></i>
      <span class="hide-on-collapse">Dashboard</span>
    </a>
    <a
      [routerLink]="['/reports']"
      routerLinkActive="active"
      [routerLinkActiveOptions]="{ exact: true }"
      class="sidebar-link text-decoration-none p-3"
    >
      <i class="fas fa-chart-bar me-3"></i>
      <span class="hide-on-collapse">Reports</span>
    </a>
    <a
      [routerLink]="['/test-suite']"
      routerLinkActive="active"
      [routerLinkActiveOptions]="{ exact: true }"
      class="sidebar-link text-decoration-none p-3"
    >
      <i class="fas fa-vial me-3"></i>
      <span class="hide-on-collapse">Test Explorer</span>
    </a>
    <a
      [routerLink]="['/queue-manager']"
      routerLinkActive="active"
      [routerLinkActiveOptions]="{ exact: false }"
      class="sidebar-link text-decoration-none p-3"
    >
      <i class="fas fa-tasks me-3"></i>
      <span class="hide-on-collapse">Queue Manager</span>
    </a>
    <a
      *ngIf="isAdmin"
      [routerLink]="['/users']"
      routerLinkActive="active"
      [routerLinkActiveOptions]="{ exact: true }"
      class="sidebar-link text-decoration-none p-3"
    >
      <i class="fas fa-users me-3"></i>
      <span class="hide-on-collapse">User Management</span>
    </a>
    <a
      *ngIf="isAdmin"
      [routerLink]="['/test-case-assignment-user']"
      routerLinkActive="active"
      [routerLinkActiveOptions]="{ exact: true }"
      class="sidebar-link text-decoration-none p-3"
    >
      <i class="fas fa-user-check me-3"></i>
      <span class="hide-on-collapse">Test Case Assignment</span>
    </a>

    <a
      [routerLink]="['/settings']"
      routerLinkActive="active"
      [routerLinkActiveOptions]="{ exact: true }"
      class="sidebar-link text-decoration-none p-3"
    >
      <i class="fas fa-cog me-3"></i>
      <span class="hide-on-collapse">Settings</span>
    </a>
    <a
      (click)="logout()"
      class="sidebar-link text-decoration-none p-3 mt-auto"
      style="cursor: pointer"
    >
      <i class="fas fa-sign-out-alt me-3"></i>
      <span class="hide-on-collapse">Logout</span>
    </a>
  </div>
  <div class="p-3 mt-auto hide-on-collapse">
    <span
      class="badge px-3 py-2 hide-on-collapse"
      [ngClass]="environmentBadgeClass"
    >
      {{ environmentDisplayName }}
    </span>
  </div>
</nav>
